from std import io


class EchoProtocol:
    transport: io.Transport

    def on_data(self, data: Bytes):
        self.transport.write(data)


def main() -> ProgramResult:
    io.TCPServer.new(port=1234).listen(io.ProtocolFactory<EchoProtocol>.new())
    return Success
