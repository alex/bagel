from std import io


class EchoProtocol:
    transport: io.Transport

    def on_data(self, data: Bytes):
        self.transport.write(data)


def main(argv: Array<Bytes>) -> ProgramResult:
    io.TCPServer(port=1234).listen(io.ProtocolFactory<EchoProtocol>())
    return Success
